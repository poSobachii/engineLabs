<div class="auth-container">
  <h2 class="text-center mb-4">Sign Up</h2>
  
  <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
    <div class="form-group">
      <label for="username">Username:</label>
      <input 
        type="text" 
        id="username" 
        name="username"
        class="form-control" 
        [(ngModel)]="registerData.username" 
        required 
        minlength="3"
        maxlength="20"
        #username="ngModel">
      <div *ngIf="username.invalid && username.touched" class="text-danger mt-1">
        <small *ngIf="username.errors?.['required']">Username is required</small>
        <small *ngIf="username.errors?.['minlength']">Username must be at least 3 characters</small>
        <small *ngIf="username.errors?.['maxlength']">Username must be less than 20 characters</small>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input 
        type="email" 
        id="email" 
        name="email"
        class="form-control" 
        [(ngModel)]="registerData.email" 
        required 
        email
        #email="ngModel">
      <div *ngIf="email.invalid && email.touched" class="text-danger mt-1">
        <small *ngIf="email.errors?.['required']">Email is required</small>
        <small *ngIf="email.errors?.['email']">Please enter a valid email</small>
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password:</label>
      <input 
        type="password" 
        id="password" 
        name="password"
        class="form-control" 
        [(ngModel)]="registerData.password" 
        required 
        minlength="6"
        #password="ngModel">
      <div *ngIf="password.invalid && password.touched" class="text-danger mt-1">
        <small *ngIf="password.errors?.['required']">Password is required</small>
        <small *ngIf="password.errors?.['minlength']">Password must be at least 6 characters</small>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Confirm Password:</label>
      <input 
        type="password" 
        id="confirmPassword" 
        name="confirmPassword"
        class="form-control" 
        [(ngModel)]="confirmPassword" 
        required 
        #confirmPass="ngModel">
      <div *ngIf="confirmPass.invalid && confirmPass.touched" class="text-danger mt-1">
        <small>Please confirm your password</small>
      </div>
    </div>

    <button 
      type="submit" 
      class="btn btn-primary"
      [disabled]="registerForm.invalid || isLoading">
      <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
      {{ isLoading ? 'Creating Account...' : 'Sign Up' }}
    </button>

    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>

    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>
  </form>

  <div class="auth-link">
    <p>Already have an account? <a routerLink="/login">Login here</a></p>
  </div>
</div>
